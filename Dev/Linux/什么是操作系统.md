## 计算机系统

计算机系统是指可以按照用户的需求，接收和存储信息，自动机械能数据处理并输出结果信息的系统，它由硬件子系统和软件子系统组成

操作系统是软件子系统的一部分，是硬件基础上的第一层软件，是硬件与其他软件的接口。它可以控制其他程序运行，管理系统资源，提供最基本的计算功能，如管理及配置内存，觉得系统资源供需的优先次序等，同时还提供了一些基本的服务程序，例如：

1. 文件系统。提供计算机存储信息的结构，信息存储在文件中，文件主要存储在计算机的内部硬盘里，子啊目录的分层结构中组织文件。文件系统为操作系统提供了组织管理数据的方式
2. 设备驱动程序。提供连接计算机的每个硬件设备的接口，设备驱动器使程序能够写入设备，而不需要了解执行每个硬件的细节。
3. 用户接口。操作系统需要为用户提供一种运行程序和访问文件系统的方法。
4. 系统服务程序。当计算机启动时，会自启动许多系统服务程序，执行安装文件系统、启动网络服务、运行预定任务等操作。

## 分时操作系统

分时操作系统使一台计算机可以同时为多个用户服务，连接计算机的终端用户交互式发出命令，操作系统采用时间片轮转的方式处理用户的服务请求并在终端上显示结果（操作系统将 CPU 的时间划分成若干个片段，称为时间片）。操作系统以时间片为单位，轮流为每个终端用户服务，每次服务一个时间片。

## UNIX/Linux 系统结构

- 系统内核（Kerel）
	- 内核层是 UNIX/Linux 系统的核心和基础，它直接附着在硬件平台之上，控制和管理系统内各种资源（硬件资源和软件资源），有效地组织进程的运行，从而扩展硬件的功能，提高资源的利用效率，为用户提供方便、高效、安全、可靠的应用环境。
- Shell 层
	- Shell 层是与用户直接交互的界面。用户可以在提示符下输入命令行，由 Shell 解释执行并输出相应结果或者有关信息，所以我们也把 Shell 称作命令解释器，利用系统提供的丰富命令可以快捷而简便地完成许多工作。
- 应用层
	- 应用层提供基于 X Window 协议的图形环境。X Window 协议定义了一个系统所必须具备的功能（就如同 TCP/IP 是一个协议，定义软件所应具备的功能），任何系统能满足此协议及符合 X 协会其他的规范，便可称为 X Window。


在内核主要负责下面四种功能：
1. 系统内存管理
2. 软件程序管理
3. 硬件设备管理
4. 文件系统管理

### 系统内存管理

- 操作系统内核的主要功能之一就是内存管理。内核不仅管理服务器上的可用物理内存，还可以创建和管理虚拟内存（即实际上并不存在的内存）
- 内核通过硬盘上的存储空间来实现虚拟内存，这块区域被称为交换空间。内核不断地在交换空间和实际的物理内存之间反复交换虚拟内存中的内容。这使得系统以为它拥有比物理内存更多的可用空间。
内存存储单元按组划分成很多块，这些块称作页面（page）。内核将每个内存页面放在物理内存或交换空间。然后，内核会维护一个内存页面表，指明哪些页面位于物理内存内，哪些页面被换到了磁盘上。
内核会记录哪些内存页面正在使用中，并自动把一段时间未访问的内存页面复制到交换空间区域（称为换出，swapping out）——即使还有可用内存。当程序要访问一个已被换出的内存页面时，内核必须从物理内存换出另外一个内存页面给它让出空间，然后从交换空间换入请求的内存页面。显然，这个过程要花费时间，拖慢运行中的进程。只要 Linux 系统在运行，为运行中的程序换出内存页面的过程就不会停歇。

### 软件程序管理

Linux 操作系统将运行中的程序称为进程。进程可以在前台运行，将输出显示在屏幕上，也可以在后台运行，隐藏到幕后。

内核控制着 Linux 系统如何管理运行在系统上的所有进程。

内核创建了第一个进程（称为 init 进程）来启动系统上的其他进程。当内核启动时，它会将 init 进程加载到虚拟内存中。内核在启动任何其他进程时，都会在虚拟内存中给新进程分配一块专有区域来存储该进程用到的数据和代码。

